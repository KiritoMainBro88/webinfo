<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Server Edit - KMB</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css?v=1.6">
    <link rel="stylesheet" href="admin-style.css?v=1.1">
</head>
<body class="dark-theme">

    <div class="admin-page-wrapper">
        <h1><i class="fas fa-server"></i> Admin - Server/User Management</h1>

         <div id="admin-auth-check" style="display: block; text-align: center; padding: 1rem; background-color: var(--bg-tertiary); border-radius: var(--border-radius-md); margin-bottom: 1rem;">
            Checking authorization... (NOTE: Real security needed!)
        </div>

        <div id="admin-content" style="display: none;">
            <!-- Add Balance Section -->
             <section id="balance-management">
                <h2><i class="fas fa-coins"></i> Add Balance to User</h2>
                <form id="add-balance-form">
                     <h3>Add Funds</h3>
                     <div class="form-group">
                         <label for="balance-user-id">User ID or Username</label>
                         <input type="text" id="balance-user-id" name="userId" required placeholder="Enter username or database ID">
                     </div>
                      <div class="form-group">
                         <label for="balance-amount">Amount to Add (VND)</label>
                         <input type="number" id="balance-amount" name="amount" required min="1000" step="1000" placeholder="e.g., 50000">
                     </div>
                      <div class="form-group admin-form-actions">
                         <button type="submit" class="cta-button primary">Add Balance</button>
                         <p id="balance-message" class="admin-message"></p>
                     </div>
                </form>
            </section>

             <hr>
              <p><a href="index.html" class="cta-button secondary"><i class="fas fa-arrow-left"></i> Back to Main Site</a></p>


            <!-- Add other server management sections here later -->
        </div>
    </div>

    <!-- Load main script first -->
    <script src="script.js?v=1.6"></script>
    <!-- Load admin script (contains balance logic) -->
    <script src="admin.js?v=1.2"></script>
     <script>
         // Basic auth check for this page
         document.addEventListener('DOMContentLoaded', () => {
            const adminContent = document.getElementById('admin-content');
            const authCheckDiv = document.getElementById('admin-auth-check');
            const userId = localStorage.getItem('userId');
            // Replace with real check later
             if (!userId) {
                authCheckDiv.innerHTML = '<p class="error">Access Denied. Please log in via the main site first.</p>';
            } else {
                 console.warn("SECURITY RISK: Displaying admin page based only on login status.");
                 authCheckDiv.style.display = 'none';
                 adminContent.style.display = 'block';
                 // Call specific setup if needed for this page, e.g.
                 // if (typeof setupBalanceForm === 'function') setupBalanceForm();
            }
         });
     </script>
</body>
</html>