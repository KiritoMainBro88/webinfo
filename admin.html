<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - KMB Shop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css?v=1.5">
    <link rel="stylesheet" href="admin-style.css?v=1.1"> <!-- Incremented version -->
</head>
<body class="dark-theme">

    <div class="admin-page-wrapper">
        <h1><i class="fas fa-user-shield"></i> KMB Shop Admin Panel</h1>

        <div id="admin-auth-check" style="display: block; text-align: center; padding: 1rem; background-color: var(--bg-tertiary); border-radius: var(--border-radius-md); margin-bottom: 1rem;">
            Checking authorization... (NOTE: Real security needed!)
        </div>

        <div id="admin-content" style="display: none;">

            <!-- Category Management Section -->
            <section id="category-management">
                 <h2><i class="fas fa-tags"></i> Manage Categories</h2>
                 <form id="add-category-form">
                     <!-- Hidden field for editing category ID -->
                     <input type="hidden" id="edit-category-id" value="">
                     <h3>Add / Edit Category</h3>
                     <div class="form-group"> <label for="new-cat-name">Category Name</label> <input type="text" id="new-cat-name" required> </div>
                     <div class="form-group"> <label for="new-cat-icon">Font Awesome Icon Class</label> <input type="text" id="new-cat-icon" placeholder="fas fa-tag"> </div>
                     <div class="form-group"> <label for="new-cat-order">Display Order</label> <input type="number" id="new-cat-order" value="0" min="0"> </div>
                     <div class="form-group admin-form-actions">
                         <button type="submit" class="cta-button primary">Save Category</button>
                         <button type="button" id="cancel-edit-category" class="cta-button secondary" style="display: none;">Cancel Edit</button>
                         <p id="cat-message" class="admin-message"></p>
                     </div>
                 </form>
                 <hr>
                 <h3>Existing Categories</h3>
                 <div id="category-list">Loading...</div>
            </section>

            <!-- Product Management Section -->
            <section id="product-management">
                <!-- ... (Keep existing Product Form and List) ... -->
                 <h2><i class="fas fa-boxes"></i> Manage Products</h2>
                 <form id="add-product-form"> <h3>Add/Edit Product</h3> <input type="hidden" id="edit-product-id" value=""> <div class="form-group"> <label for="product-name">Product Name</label> <input type="text" id="product-name" name="name" required> </div> <div class="form-group"> <label for="product-category">Category</label> <select id="product-category" name="category" required> <option value="">-- Select Category --</option> </select> </div> <div class="form-group"> <label for="product-price">Price (VND)</label> <input type="number" id="product-price" name="price" required min="0" step="1000"> </div> <div class="form-group"> <label for="product-original-price">Original Price (Optional)</label> <input type="number" id="product-original-price" name="originalPrice" min="0" step="1000"> </div> <div class="form-group"> <label for="product-image">Image URL</label> <input type="text" id="product-image" name="imageUrl" placeholder="images/product-placeholder.png"> </div> <div class="form-group"> <label for="product-tags">Tags (comma-separated)</label> <input type="text" id="product-tags" name="tags"> </div> <div class="form-group"> <label for="product-stock">Stock Status</label> <select id="product-stock" name="stockStatus"> <option value="in_stock">In Stock</option> <option value="out_of_stock">Out of Stock</option> <option value="contact">Contact for details</option> <option value="check_price">Check Price List</option> </select> </div> <div class="form-group"> <label for="product-order">Display Order</label> <input type="number" id="product-order" name="displayOrder" value="0" min="0"> </div> <div class="form-group form-group-full"> <label for="product-description">Description</label> <textarea id="product-description" name="description" rows="4"></textarea> </div> <div class="form-group admin-form-actions"> <button type="submit" class="cta-button primary">Save Product</button> <button type="button" id="cancel-edit-product" class="cta-button secondary" style="display: none;">Cancel Edit</button> <p id="product-message" class="admin-message"></p> </div> </form> <hr> <h3>Existing Products</h3> <div id="product-list">Loading...</div>
            </section>

             <!-- NEW: Add Balance Section -->
             <section id="balance-management">
                <h2><i class="fas fa-coins"></i> Add Balance to User</h2>
                <form id="add-balance-form">
                     <h3>Add Funds</h3>
                     <div class="form-group">
                         <label for="balance-user-id">User ID or Username</label>
                         <input type="text" id="balance-user-id" name="userId" required placeholder="Enter username or database ID">
                     </div>
                      <div class="form-group">
                         <label for="balance-amount">Amount to Add (VND)</label>
                         <input type="number" id="balance-amount" name="amount" required min="1000" step="1000" placeholder="e.g., 50000">
                     </div>
                      <div class="form-group admin-form-actions">
                         <button type="submit" class="cta-button primary">Add Balance</button>
                         <p id="balance-message" class="admin-message"></p>
                     </div>
                </form>
            </section>

        </div>
    </div>
    <script src="admin.js?v=1.1"></script> <!-- Incremented version -->
</body>
</html>